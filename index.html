<!DOCTYPE html>
<html>
<head>
	<title>AnimalTastic - GIPHY API</title>

	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" type="text/css" href="assets/css/styles.css">

</head>
<body>

<div id="animalButtons">
</div>

<div id="submissionForm">

<p><label for="getAnimal" id="formLbl">Add an animal</label></p>
<p><input type="text" id="getAnimal"></p>
<p><input type="submit" id="submit"></p>

</div>

<div id="animalPics">
</div>



<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">

	var textVal;
	var newButton;
	var apiUrl;
	var apiPlus = "&api_key=dc6zaTOxFJmzC&limit=10&rating=pg-13";

	$('#submit').on('click', function(){

		textVal =  $('#getAnimal').val().trim();

		console.log(textVal);


		if(textVal != ""){

			newButton = $("<button></button>").text(textVal).css({'margin': '5px 5px'});
			newButton.attr('data-search', textVal);
			$("#animalButtons").append(newButton);

			$('#getAnimal').val("");
			
		} 

	});

	$("#animalButtons").on('click', "button", function(){

		apiUrl = "http://api.giphy.com/v1/gifs/search?q=";
		apiUrl = apiUrl+ $(this).attr('data-search') + apiPlus;
		console.log(apiUrl);

		$.ajax({
			url: apiUrl,
			method: 'GET'
		}).done(function(animal){
			console.log(animal);

		});

	});

</script>


</body>
</html>